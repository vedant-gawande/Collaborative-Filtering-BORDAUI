<!doctype html>
<html lang="en">
  <head>
  	<title>Contact Form 01</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,700' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	
	<link rel="stylesheet" href="{{ url_for('static', path='/styles.css') }}">
	<style>
		.message {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        padding: 20px;
        background-color: #f44336;
        color: #fff;
        font-size: 18px;
        font-weight: bold;
        text-align: center;
      }
      @media only screen and (max-width: 767px){
        .message {
          display: block;
		  z-index: 2;
        }
		body > *:not(.message) {
    		display: none;
  		}
	}
	</style>
<script>
	// if(performance.navigation.type == performance.navigation.TYPE_RELOAD)
	// {
	// 	window.location.href='/register_page';
	// }
	</script>
	</head>
	<body>

		<div class="message">
			This website is designed for desktop mode only. Please view on a desktop or laptop computer for the best experience.
		  </div>

	<section class="ftco-section">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-md-6 text-center mb-5">
					<h2 class="heading-section">Create Account</h2>
				</div>
			</div>
			<div class="row justify-content-center">
				<div class="col-lg-10 col-md-12">
					<div class="wrapper">
						<div class="row no-gutters">
							<div class="col-md-7 d-flex align-items-stretch">
								<div class="contact-wrap w-100 p-md-5 p-4">
									<h3 class="mb-4">User Information</h3>
									<div id="form-message-warning" class="mb-4"></div> 
				      		<div id="form-message-success" class="mb-4">
				            Your message was sent, thank you!
				      		</div>
							<div style="color: red;">
								{% if msg %}
								{{msg}}
								{% endif %}
							</div>
									<form action="register_user" method="post" id="myform1">
										<div class="row">
										<div class="col-md-12">
												<div class="form-group">
													<input type="text" class="form-control" name="reg_name" id="username" placeholder="Enter Username" minlength="3" maxlength="15" required>
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<input type="email" class="form-control" name="reg_email" id="email" placeholder="Enter Email" required>
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<input type="password" class="form-control" name="reg_password" id="password" placeholder="Enter Password" minlength=5 required>
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<input type="text" class="form-control" name="reg_phone_number" id="phone_num" placeholder="Enter Phone number" minlength="10" maxlength="10" required >
												</div>
											</div>
											<div class="col-md-6"> 
												<div class="form-group">
                                                    <label>Occupation</label>
                                                    <select name="reg_occupation">
                                                        <optgroup label="STUDENT">
                                                            <option>B.TECH</option>
                                                            <option>M.TECH</option>
                                                            <option>OTHER</option>
                                                        </optgroup>
                                                        <optgroup label="JOB ROLE">
                                                            <option>DATA MINING ENGINEER</option>
                                                            <option>DATA ANALYST</option>
                                                            <option>DATA SCINETIST</option>
                                                        </optgroup>
                                                    </select>
												</div>
											</div>
											
											
											<div class="col-md-12">
												<div class="form-group">
													<input type="submit" class="btn btn-primary" onclick="validateForm()">
													<a href="user_login"><input type="button" class="btn btn-primary" value="Back"></a>
													<div class="submitting"></div>
												</div>
											</div>
											
										</div>
									</form>
								</div>
							</div>
							
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<script type="text/javascript">
		
		var username = document.getElementById('username');
		var email = document.getElementById('email');
		var password = document.getElementById('password');
		var phone_num = document.getElementById('phone_num');
		var form = document.getElementById('myform1');
		function validateForm() {
			let re = /^[a-zA-Z0-9_]+$/;
			if (re.test(username.value)){
			username.setCustomValidity('');
		}
		else{
			username.style.border = 'red solid 3px';
			username.setCustomValidity('Only alphanumeric characters and Underscores(`_`) are valid');
		}
		re = /^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;
		if (re.test(email.value)){
		email.setCustomValidity('');
		}
		else{
			email.style.border = 'red solid 3px';
			email.setCustomValidity('Please Enter valid email address');
		}
		re = /^[a-zA-Z0-9`\-,!@#$%&()]*$/;
		if (re.test(password.value)){
		password.setCustomValidity('');
		}
		else{
			password.style.border = 'red solid 3px';
			password.setCustomValidity('Only alphanumeric characters and `-,!@#$%&\(\).+ are allowed');
		}
		re = /^[6-9]\d+$/;
		if (re.test(phone_num.value)){
		phone_num.setCustomValidity('');
		}
		else{
			phone_num.style.border = 'red solid 3px';
			phone_num.setCustomValidity('Please Enter valid Mobile Number');
		}
		}
</script>
	</body>
</html>

